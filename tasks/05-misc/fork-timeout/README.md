# Fork timeout

Многие из вас знакомы с утилитой [timeout](https://man7.org/linux/man-pages/man1/timeout.1.html). Она позволяет запускать программы с лимитом времени. Например, команда

```
timeout 10s sleep 30
```

принудительно завершится за 10 секунд.

В этой задаче предлагается реализовать эту утилиту. В файле [timeout.cpp](./timeout.cpp) нужно написать исходный код утилиты. Ваша программа должна имплементировать следующую [usage message](https://en.wikipedia.org/wiki/Usage_message):

`usage: timeout duration command [args ...]`

где `duration` - целое неотрицательное число, означающее таймаут *в секундах*.

Для ожидания нужно будет использовать библиотечный вызов [sleep](https://man7.org/linux/man-pages/man3/sleep.3.html).

Прежде чем смотреть в ответ, подумайте сами, как вы бы реализовывали эту функцию.

- [1 подсказка](./hint-1.md)
- [2 подсказка](./hint-2.md)
- [Решение](./solution.md)

Учтите при решении:

- Код возврата
  - При неправильном использовании утилиты или при ошибках исполнении используйте код возврата 125.
  - Если команда была принудительно завершена по таймауту, используйте код возврата 124.
  - В других случаях верните код возврата выполняемой команды.
- Не оставляйте процессы-зомби.
